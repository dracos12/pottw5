{"version":3,"sources":["webpack:///webpack/bootstrap 3eef933fa3621aba120d","webpack:///external \"PIXI\"","webpack:///./src/gameobject.ts","webpack:///./src/index.ts","webpack:///./src/theSea.ts","webpack:///./src/island.ts"],"names":[],"mappings":"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","file":"./dist/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3eef933fa3621aba120d","module.exports = PIXI;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"PIXI\"\n// module id = 0\n// module chunks = 0","//\r\n// GameObject - the root class of all sprites\r\n//\r\nimport * as PIXI from \"pixi.js\";\r\n\r\nexport const enum ObjectType {\r\n    NONE,\r\n    ISLAND,\r\n    SHIP\r\n}\r\n\r\nexport default class GameObject\r\n{\r\n    // the game object's sprite keeps positional information  x,y\r\n\r\n    protected vx:number = 0; // velocity information\r\n    protected vy:number = 0;\r\n\r\n    protected z:number = 0;  // z-sorting if necessary... z sort normally done by y position\r\n\r\n    protected objType:ObjectType = ObjectType.NONE;\r\n\r\n    protected sprite:PIXI.Sprite;\r\n\r\n    constructor()\r\n    {\r\n        \r\n    }\r\n\r\n    public setSprite(newSprite:PIXI.Sprite)\r\n    {\r\n        this.sprite = newSprite;\r\n    }\r\n\r\n    public getSprite()\r\n    {\r\n        return this.sprite;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/source-map-loader!./src/gameobject.ts","import * as PIXI from 'pixi.js';\r\nimport theSea from './theSea';\r\n\r\nexport default class Core {\r\n    private _renderer:PIXI.CanvasRenderer|PIXI.WebGLRenderer;\r\n    private _world:PIXI.Container;\r\n    private _sea:theSea;\r\n\r\n    constructor() {\r\n        this._renderer = PIXI.autoDetectRenderer(window.innerWidth, window.innerHeight,{backgroundColor: 0x7BA4DF});\r\n        this._world = new PIXI.Container();\r\n        document.body.appendChild(this._renderer.view);\r\n\r\n        // create a new sea object\r\n        this._sea = new theSea();\r\n        this._sea.init(this.seaLoadedCallback);\r\n    }\r\n\r\n    private seaLoadedCallback = () =>\r\n    {\r\n        // add listener to the stage - stage declared in main, top level js file\r\n        console.log(\"PotTW: build 0.0.10\");\r\n        this._world.interactive = true;\r\n        this._world.on(\"mousemove\", this._sea.mouseMoveHandler);\r\n        //mousewheel not part of Pixi so add the event to the DOM\r\n        document.body.addEventListener(\"wheel\", this._sea.mouseWheelHandler, false);\r\n\r\n        this._world.addChild(this._sea.getContainer());\r\n        this.update();\r\n    }\r\n\r\n    public update = () => \r\n    {\r\n\r\n        this._sea.update();\r\n\r\n        this._renderer.render(this._world);\r\n\r\n        requestAnimationFrame(this.update);\r\n    }\r\n\r\n}\r\n\r\nlet game = new Core();\n\n\n// WEBPACK FOOTER //\n// ./node_modules/source-map-loader!./src/index.ts","\r\nimport * as PIXI from 'pixi.js';\r\nimport GameObject from './gameobject';\r\nimport Island from './island';\r\n\r\nexport default class theSea \r\n{\r\n    private container:PIXI.Container = new PIXI.Container();\r\n    \r\n    private deltaX:number = 0;\r\n    private deltaY:number = 0;\r\n    private lastX:number = -1;\r\n    private lastY:number = -1;\r\n\r\n    private loadCallback:Function;\r\n\r\n    private objectArray: Array<GameObject> = []; // array of all sprites added to theSea islands and ships (later, projectiles as well)\r\n\r\n    private wheelScale = 0.25;\r\n\r\n    // javascript style mouse wheel handler, pixi does not support mouse wheel\r\n    mouseWheelHandler = (e:any) => {\r\n        //console.log(e);\r\n\r\n        if (e.wheelDelta > 0) { // scroll in\r\n            this.wheelScale += 0.05;\r\n            if (this.wheelScale > 2.0)\r\n                this.wheelScale = 2.0;\r\n            //console.log(\"wheel in\");\r\n        } else { // scroll out\r\n            this.wheelScale -= 0.05;\r\n            if (this.wheelScale < 0.10)\r\n                this.wheelScale = 0.10;\r\n            //console.log(\"wheel out\");\r\n        }\r\n\r\n        let pos = new PIXI.Point(e.clientX, e.clientY);\r\n        let preZoomWorld:PIXI.Point = this.container.toLocal(pos); //this.screenToWorld(e.clientX, e.clientY);  \r\n        \r\n        //\r\n        // perform the scale to the container\r\n        //\r\n        this.container.scale.x = this.container.scale.y = this.wheelScale;\r\n        \r\n        // console.log(\"scale: \" + this.wheelScale.toFixed(2) + \r\n        //             \" pos: \" + this.container.x.toFixed(2) + \",\" + this.container.y.toFixed(2) + \" \" + \r\n        //             \"w: \" + this.container.width.toFixed(2) + \r\n        //             \" h: \" + this.container.height.toFixed(2) +\r\n        //             \" mouse: \" + e.clientX + \",\" + e.clientY\r\n        //             );\r\n\r\n        //where is the zoom location now, after we changed the scale?\r\n        let postZoomWorld = this.container.toLocal(pos); //this.screenToWorld(e.clientX, e.clientY);\r\n        \r\n        //console.log(\"pre: \" + preZoomWorld.x + \",\" + preZoomWorld.y + \" post: \" + postZoomWorld.x + \",\" + postZoomWorld.y);\r\n\r\n        let preZoomGlobal = this.container.toGlobal(preZoomWorld);\r\n        let postZoomGlobal = this.container.toGlobal(postZoomWorld);\r\n        \r\n        //move the world so that the zoomed-location goes back to where it was on the screen before scaling        \r\n        this.container.x += postZoomGlobal.x - preZoomGlobal.x ;   \r\n        this.container.y += postZoomGlobal.y - preZoomGlobal.y; \r\n    }\r\n\r\n    private screenToWorld (screenX: number, screenY:number) \r\n    {   \r\n        let retPt = new PIXI.Point();     \r\n        retPt.x = this.container.x + screenX / this.wheelScale;\r\n        retPt.y = this.container.y + screenY / this.wheelScale;\r\n        return retPt;   \r\n    }   \r\n    private worldToScreen (worldX: number, worldY:number) \r\n    {   \r\n        let retPt = new PIXI.Point();                 \r\n        retPt.x = (worldX - this.container.x) * this.wheelScale;\r\n        retPt.y = (worldY - this.container.y) * this.wheelScale;\r\n        return retPt;\r\n    }             \r\n\r\n    // pixi style event handler, not the same arguments as javascript mouse event\r\n    mouseMoveHandler = (e:any) => {\r\n        //document.getElementById(\"log\").innerText = e.type;\r\n        //console.log(\"G: \" +e.data.global.x + \",\" + e.data.global.y);\r\n        //console.log(\"mouseMoved\");\r\n        // console.log(this);\r\n\r\n       // console.log(\"L: \" + this.container.toLocal(e.data.global).x + \", \" + this.container.toLocal(e.data.global).y);\r\n\r\n        if (e.data.buttons == 1) // left button is down \r\n        {\r\n            //console.log(\"LeftDown\");\r\n            var doDelta = true;\r\n            if (this.lastX == -1)\r\n                doDelta = false;\r\n\r\n            if (doDelta)\r\n            {\r\n                this.deltaX = e.data.global.x - this.lastX;\r\n                this.deltaY = e.data.global.y - this.lastY;\r\n                //console.log(this.deltaX + \",\" + this.deltaY);\r\n            }\r\n\r\n            //console.log(e);\r\n            //console.log(e.data.global.x + \",\" + e.data.global.y);\r\n            this.lastX = e.data.global.x;\r\n            this.lastY = e.data.global.y;\r\n        }\r\n        else // button is up\r\n        {\r\n            this.deltaX = 0;\r\n            this.deltaY = 0;\r\n            this.lastX = -1;\r\n            this.lastY = -1;\r\n        }\r\n    }\r\n    \r\n    // when done loading, arrange the sea tiles on theSea container\r\n    setup = () => {\r\n        let map1 = new PIXI.Sprite(PIXI.loader.resources[\"images/4x4Region1/image_part_002.png\"].texture);\r\n        let map2 = new PIXI.Sprite(PIXI.loader.resources[\"images/4x4Region1/image_part_003.png\"].texture);\r\n        let map3 = new PIXI.Sprite(PIXI.loader.resources[\"images/4x4Region1/image_part_004.png\"].texture);\r\n        let map4 = new PIXI.Sprite(PIXI.loader.resources[\"images/4x4Region1/image_part_005.png\"].texture);\r\n        let map5 = new PIXI.Sprite(PIXI.loader.resources[\"images/4x4Region1/image_part_006.png\"].texture);\r\n        let map6 = new PIXI.Sprite(PIXI.loader.resources[\"images/4x4Region1/image_part_007.png\"].texture);\r\n        let map7 = new PIXI.Sprite(PIXI.loader.resources[\"images/4x4Region1/image_part_008.png\"].texture);\r\n        let map8 = new PIXI.Sprite(PIXI.loader.resources[\"images/4x4Region1/image_part_009.png\"].texture);\r\n        let map9 = new PIXI.Sprite(PIXI.loader.resources[\"images/4x4Region1/image_part_010.png\"].texture);\r\n        let map10 = new PIXI.Sprite(PIXI.loader.resources[\"images/4x4Region1/image_part_011.png\"].texture);\r\n        let map11 = new PIXI.Sprite(PIXI.loader.resources[\"images/4x4Region1/image_part_012.png\"].texture);\r\n        let map12 = new PIXI.Sprite(PIXI.loader.resources[\"images/4x4Region1/image_part_013.png\"].texture);\r\n        let map13 = new PIXI.Sprite(PIXI.loader.resources[\"images/4x4Region1/image_part_014.png\"].texture);\r\n        let map14 = new PIXI.Sprite(PIXI.loader.resources[\"images/4x4Region1/image_part_015.png\"].texture);\r\n        \r\n        // arranged left to right top to bottom\r\n        // however the upleft tile is empty as is the lower left tile.. only tiles 2-15 are not empty sea\r\n        map1.x = 2048; map1.y = 0; \r\n        map2.x = 4096; map2.y = 0; \r\n        map3.x = 6144; map3.y =0;\r\n        map4.x = 0; map4.y = 2048; \r\n        map5.x = 2048; map5.y = 2048; \r\n        map6.x = 4096; map6.y = 2048; \r\n        map7.x = 6144; map7.y = 2048; \r\n        map8.x = 0; map8.y = 4096; \r\n        map9.x = 2048; map9.y = 4096; \r\n        map10.x = 4096; map10.y = 4096;\r\n        map11.x = 6144; map11.y = 4096;\r\n        map12.x = 0; map12.y = 6144; \r\n        map13.x = 2048; map13.y = 6144;\r\n        map14.x = 4096; map14.y = 6144; \r\n\r\n        this.container.addChild(map1);\r\n        this.container.addChild(map2);\r\n        this.container.addChild(map3);\r\n        this.container.addChild(map4);\r\n        this.container.addChild(map5);\r\n        this.container.addChild(map6);\r\n        this.container.addChild(map7);\r\n        this.container.addChild(map8);\r\n        this.container.addChild(map9);\r\n        this.container.addChild(map10);\r\n        this.container.addChild(map11);\r\n        this.container.addChild(map12);\r\n        this.container.addChild(map13);\r\n        this.container.addChild(map14);\r\n\r\n        this.container.scale.x = this.container.scale.y = this.wheelScale; \r\n\r\n        this.loadRegion(); // for now this loads the islands, ideally it will load the sea tiles too\r\n    \r\n    }\r\n\r\n    init(callback: Function)\r\n    {\r\n        // load our background sea tiles\r\n        PIXI.loader\r\n            .add(\"images/4x4Region1/image_part_002.png\")\r\n            .add(\"images/4x4Region1/image_part_003.png\")\r\n            .add(\"images/4x4Region1/image_part_004.png\")\r\n            .add(\"images/4x4Region1/image_part_005.png\")\r\n            .add(\"images/4x4Region1/image_part_006.png\")\r\n            .add(\"images/4x4Region1/image_part_007.png\")\r\n            .add(\"images/4x4Region1/image_part_008.png\")\r\n            .add(\"images/4x4Region1/image_part_009.png\")\r\n            .add(\"images/4x4Region1/image_part_010.png\")\r\n            .add(\"images/4x4Region1/image_part_011.png\")\r\n            .add(\"images/4x4Region1/image_part_012.png\")\r\n            .add(\"images/4x4Region1/image_part_013.png\")\r\n            .add(\"images/4x4Region1/image_part_014.png\")\r\n            .add(\"images/4x4Region1/image_part_015.png\")\r\n            .add(\"images/islands/region1atlas.json\")        // loader automagically loads all the textures in this atlas\r\n            .load(this.setup);\r\n\r\n        this.loadCallback = callback;\r\n    }\r\n\r\n    private loadRegion(regionName: string = \"region1\") \r\n    {\r\n        // load the region1 background sea tiles\r\n\r\n        // load the region1 islands\r\n\r\n        // load the island game data \r\n        this.loadJSON(\"./data/region1isles.json\", this.onIslesLoaded)\r\n\r\n        // islands are stored in a pool of sprites\r\n    }\r\n\r\n    private onIslesLoaded = (responseText:string) => \r\n    {\r\n        var json_data = JSON.parse(responseText);\r\n        console.log(json_data);\r\n        console.log(PIXI.loader.resources);\r\n\r\n        // run through all entries in the json\r\n        for (var key in json_data) {\r\n            if (json_data.hasOwnProperty(key)) {\r\n                // create a sprite for each\r\n                let isle = new Island();\r\n\r\n                let sprite = new PIXI.Sprite(PIXI.Texture.fromFrame(json_data[key].fileName));\r\n                \r\n                // position the sprite according to the data\r\n                sprite.x = json_data[key].x;\r\n                sprite.y = json_data[key].y;\r\n\r\n                // tag each sprite with its name (the key)\r\n                sprite.name = key;\r\n\r\n                // add sprite tgo the isle, this container, and the tracked object array\r\n                isle.setSprite(sprite);\r\n                this.container.addChild(sprite);\r\n                this.objectArray.push(isle);\r\n\r\n                console.log(\"Adding \" + sprite.name + \" to theSea\");\r\n            }\r\n        }\r\n\r\n\r\n        // final step in loading process.. can now call loadcallback\r\n        this.loadCallback();\r\n    }\r\n\r\n    private loadJSON(jsonFile:string, callback:Function) \r\n    {\r\n        var xobj = new XMLHttpRequest();\r\n            xobj.overrideMimeType(\"application/json\");\r\n        xobj.open('GET', './data/region1isles.json', true); // Replace 'my_data' with the path to your file\r\n        xobj.onreadystatechange = function () {\r\n            if (xobj.readyState == 4 && xobj.status == 200) {\r\n                // Required use of an anonymous callback as .open will NOT return a value but simply returns undefined in asynchronous mode\r\n                callback(xobj.responseText);\r\n            }\r\n        };\r\n        xobj.send(null);  \r\n    }\r\n\r\n    public getContainer()\r\n    {\r\n        return this.container;\r\n    }\r\n\r\n    public update()\r\n    {\r\n        this.container.x += this.deltaX;\r\n        this.container.y += this.deltaY;\r\n\r\n        if (this.container.x > 0)\r\n            this.container.x = 0;\r\n        \r\n        if (this.container.y > 0)\r\n            this.container.y = 0;\r\n\r\n        if (this.container.x < -(this.container.width - window.innerWidth))\r\n            this.container.x = -(this.container.width - window.innerWidth);\r\n\r\n        if (this.container.y < -(this.container.height - window.innerHeight))\r\n            this.container.y = -(this.container.height - window.innerHeight);\r\n\r\n        this.deltaX = 0;\r\n        this.deltaY = 0; // clear the data, await next mousemove\r\n\r\n        // console.log(this.deltaX + \",\" + this.deltaY);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/source-map-loader!./src/theSea.ts","import GameObject from './gameobject';\r\nimport { ObjectType } from './gameobject';\r\n\r\nexport default class Island extends GameObject\r\n{\r\n    constructor()\r\n    {\r\n        super();\r\n        this.objType = ObjectType.ISLAND;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/source-map-loader!./src/island.ts"],"sourceRoot":""}